# on TData as Owned Type and Table Per Type (TPT) for Specialized Generics

Context and Problem
We need a design where:

TData is a generic type that represents data with value semantics (e.g., defined using records).

The class B<TData> is a generic specialization class, inheriting from a base class A.

For each specialization of B<TData>:

There should be a dedicated table in the database for the specialization (Table Per Type, or TPT).

TData, which is owned by B<TData>, should have its properties stored within the table corresponding to each specific B<TData> type (e.g., FooData for B<FooData> and BarData for B<BarData>).

Common properties, shared across all types B<TData>, should be stored in the base table for A.

The solution must support Entity Framework Core (EF Core), with proper database schema normalization and leveraging EF Core features like Owned Types and Table Per Type (TPT) inheritance.

## Configuration

```csharp
protected override void OnModelCreating(ModelBuilder modelBuilder)
{
    // Base class table
    modelBuilder.Entity<A>()
        .ToTable("A");

    // Derived table for B<FooData>
    modelBuilder.Entity<B<FooData>>()
        .ToTable("B_FooData")
        .OwnsOne(b => b.Data); // Inline FooData fields

    // Derived table for B<BarData>
    modelBuilder.Entity<B<BarData>>()
        .ToTable("B_BarData")
        .OwnsOne(b => b.Data); // Inline BarData fields
}
```